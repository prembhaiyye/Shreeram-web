{% extends "base.html" %}

{% block content %}
<div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
    <a href="{{ url_for('views.profile') }}" class="btn"
        style="width: auto; padding: 0.5rem 1rem; background: transparent; color: var(--text-secondary);">← Back</a>
    <h1>Tank Levels</h1>
</div>

<div class="card-grid">
    {% for tank in tanks %}
    <div class="card tank-card">
        <div class="card-header">
            <span class="card-title" style="text-transform: capitalize; font-size: 1.1rem;">{{ tank.name.replace('_', '
                ') }}</span>
            <span
                class="status-badge {{ 'status-offline bg-danger text-white' if tank.level_percent < 20 else 'status-online bg-primary text-white' }}">
                {{ "Low" if tank.level_percent < 20 else "Normal" }} </span>
        </div>

        <div class="tank-visual-container">
            <div class="tank-body">
                <div class="water-level {{ 'bg-danger-gradient' if tank.level_percent < 20 else 'bg-primary-gradient' }}"
                    style="height: {{ tank.level_percent }}%;">
                    <div class="wave"></div>
                </div>
                <div class="percentage-display">{{ tank.level_percent | int }}%</div>
            </div>
        </div>

        {% if tank.level_percent < 20 %} <div class="alert-box">
            ⚠️ Refill Required
    </div>
    {% endif %}
</div>
{% endfor %}
</div>

<div
    style="margin-top: 2rem; padding: 1rem; background: #fffaf0; border-left: 4px solid var(--warning-color); color: #744210;">
    <strong>Note:</strong> Tank values are approximated and may have small differences vs real volume.
</div>
{% endblock %}